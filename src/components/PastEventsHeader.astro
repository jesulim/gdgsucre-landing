---
import { ThemeToggle } from '../components/themes/ThemeToggle'
import Logo from '../assets/Logo.astro'
import LogoShort from '../assets/Logo-short.astro'
---

<nav
  class='fixed w-full z-20 top-0 left-0 border-b-2 border-black bg-gray dark:bg-black dark:text-white dark:border-white'
>
  <div class='max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4'>
    <a href='/' aria-current='page' aria-label='Return to home'>
      <div class='block md:hidden'>
        <LogoShort />
      </div>
      <div class='hidden md:block'>
        <Logo />
      </div>
    </a>

    <div class='flex md:order-2 md:hidden'>
      <ThemeToggle client:load />
    </div>

    <div
      class='items-center justify-between hidden w-full md:flex md:w-auto md:order-1 space-x-4'
      id='navbar-sticky'
    >
      <div class='h-8 hidden md:block'>
        <ThemeToggle client:load />
      </div>
    </div>
  </div>
</nav>

<script>
  document
    .querySelector('[data-collapse-toggle]')
    .addEventListener('click', function () {
      const target = document.getElementById(this.getAttribute('aria-controls'))
      const expanded = this.getAttribute('aria-expanded') === 'true' || false

      this.setAttribute('aria-expanded', !expanded)
      target.classList.toggle('hidden')
    })
</script>
