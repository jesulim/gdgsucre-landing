---
import { getRegistrationStatus, RegistrationStatus } from '@components/register/registerUtils'

import RegistrationForm from '@components/register/RegistrationForm.astro'
import RegistrationPending from '@components/register/RegistrationPending.astro'
import RegistrationClosed from '@components/register/RegistrationClosed.astro'

const { registration } = Astro.props

const REGISTRATION_CLOSED = false
const status = getRegistrationStatus(registration, REGISTRATION_CLOSED)
---

{status === RegistrationStatus.Closed && <RegistrationClosed />}

{
  status === RegistrationStatus.Open && (
    <RegistrationForm uid={registration.uid} email={registration.email} />
  )
}

{
  status === RegistrationStatus.Pending && (
    <RegistrationPending firstname={registration.firstname} />
  )
}
